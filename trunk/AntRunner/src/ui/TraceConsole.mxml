<?xml version="1.0"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml"
         implements="ui.ILogConsole"
         label="Trace">

    <mx:Script><![CDATA[
        import log.TraceRenderer;

        private var _dataPrividerChanged:Boolean;
        private var _dataPrivider:Object;

        public function set dataProvider(value:Object):void
        {
            _dataPrivider = value;
            _dataPrividerChanged = true;
            invalidateProperties();
        }

        protected override function commitProperties():void
        {
            super.commitProperties();

            if(_dataPrividerChanged)
            {
                traceLog.dataProvider = _dataPrivider;
                _dataPrividerChanged = false;
                traceLog.callLater(traceLog.scrollToIndex, [_dataPrivider.length - 1]);
            }
        }

        ]]></mx:Script>
    <mx:List id="traceLog" itemRenderer="{new TraceRenderer()}"
             percentHeight="100" percentWidth="100"
             borderStyle="none" verticalScrollPolicy="on"/>
</mx:VBox>
